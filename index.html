<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Intelligence | Global AI Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #ffffff; color: #1d1d1f; scroll-behavior: smooth; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
        .modal { transition: opacity 0.3s ease; display: none; }
        #ton-connect-button button { background-color: black !important; color: white !important; border-radius: 9999px !important; }
        .logo-box { background: linear-gradient(135deg, #000 0%, #333 100%); width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 8px; color: white; font-weight: bold; }
    </style>
</head>
<body class="antialiased">

    <nav class="fixed w-full z-50 glass border-b border-gray-100">
        <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="logo-box text-sm underline decoration-blue-500">N</div>
                <div class="text-xl font-semibold tracking-tight">NEXUS <span class="font-light text-gray-400">INTELLIGENCE</span></div>
            </div>
            <div id="ton-connect-button"></div>
        </div>
    </nav>

    <section class="pt-32 pb-20 px-6 bg-[#f5f5f7] text-center">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-semibold tracking-tighter mb-10">Zekayı Paylaş, <br> Değer Kazan.</h1>
            
            <div class="bg-white p-10 rounded-[48px] shadow-sm border border-gray-100 mb-12 max-w-sm mx-auto">
                <div class="text-6xl font-semibold mb-2" id="rewardCounter">0.0000</div>
                <div class="text-gray-400 text-sm mb-10">Tahmini NI Kazancı</div>
                <button onclick="toggleMining()" id="mineBtn" class="w-full bg-black text-white py-5 rounded-3xl font-semibold text-lg hover:scale-95 transition">Madenciliği Başlat</button>
            </div>
            
            <div class="flex justify-center space-x-4">
                <button onclick="openModal()" class="bg-blue-600 text-white px-8 py-4 rounded-full font-medium shadow-lg hover:bg-blue-700">Ön Satışa Katıl</button>
                <a href="#roadmap" class="bg-white border border-gray-200 px-8 py-4 rounded-full font-medium hover:bg-gray-50">Yol Haritası</a>
            </div>
        </div>
    </section>

    <section id="roadmap" class="py-24 px-6 bg-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl font-semibold mb-16 tracking-tight text-blue-600">50 Yıllık Yol Haritası</h2>
            <div class="space-y-12 text-left">
                <div class="flex items-start">
                    <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center font-bold mr-6">01</div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2">Genesis Fazı (2026)</h3>
                        <p class="text-gray-500">Telegram entegrasyonu, Whitelist alımları ve ilk NI Token emisyon testleri.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center font-bold mr-6">02</div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2">NPU Entegrasyonu (2027)</h3>
                        <p class="text-gray-500">Mobil cihazlardaki NPU işlemcilerin ağa dahil edilmesi ve global AI işleme testi.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="presaleModal" class="modal fixed inset-0 z-[100] flex items-center justify-center px-6">
        <div class="absolute inset-0 bg-black bg-opacity-40" onclick="closeModal()"></div>
        <div class="bg-white w-full max-w-md rounded-[40px] p-10 relative z-10 shadow-2xl">
            <h2 class="text-3xl font-semibold mb-2">Ön Satış</h2>
            <p class="text-gray-500 text-sm mb-8 italic">Seçilen cüzdan: <span id="displayWallet" class="text-black font-bold">Bağlı Değil</span></p>
            
            <div class="bg-gray-50 p-6 rounded-3xl mb-8">
                <div class="text-sm text-gray-400 mb-1 uppercase font-bold">Paket: Early Pilot</div>
                <div class="text-2xl font-semibold">10,000 NI Token</div>
                <div class="text-blue-600 font-bold mt-2">Fiyat: 1 TON</div>
            </div>

            <button onclick="buyTokens()" class="w-full bg-black text-white py-5 rounded-2xl font-bold mb-4 shadow-xl active:scale-95 transition">Hemen Satın Al</button>
            <p class="text-[10px] text-gray-400 text-center">Ödemeler doğrudan akıllı kontrat veya yetkili cüzdana iletilir.</p>
        </div>
    </div>

    <script>
        // --- AYARLAR: BURAYI DEĞİŞTİR ---
        const ADMIN_WALLET = "BURAYA_KENDI_TON_ADRESINI_YAZ"; // Paranın geleceği adres
        
        // TON Connect Başlatma
        const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
            manifestUrl: 'https://nexusintelligencelabs.github.io/nexusintelligence.github.io/tonconnect-manifest.json',
            buttonRootId: 'ton-connect-button'
        });

        // Cüzdan bağlandığında bilgileri göster
        tonConnectUI.onStatusChange(wallet => {
            if (wallet) {
                const addr = wallet.account.address;
                document.getElementById('displayWallet').innerText = addr.substring(0,8) + "...";
                // BURADA: Supabase veya Firebase kaydı yapılabilir
            }
        });

        // GERÇEK ÖDEME FONKSİYONU
        async function buyTokens() {
            if (!tonConnectUI.connected) {
                alert("Lütfen önce cüzdanınızı bağlayın!");
                return;
            }

            const transaction = {
                validUntil: Math.floor(Date.now() / 1000) + 60, // 60 saniye geçerli
                messages: [
                    {
                        address: ADMIN_WALLET, // Senin adresin
                        amount: "1000000000" // 1 TON (Nano cinsinden: 10^9)
                    }
                ]
            };

            try {
                const result = await tonConnectUI.sendTransaction(transaction);
                alert("İşlem başarıyla gönderildi! Tokenlar cüzdanınıza tanımlanacaktır.");
                closeModal();
            } catch (e) {
                console.error(e);
                alert("İşlem reddedildi veya hata oluştu.");
            }
        }

        // Madencilik Mantığı
        let isMining = false; let rewards = 0; let interval;
        function toggleMining() {
            const btn = document.getElementById('mineBtn');
            if (!isMining) {
                isMining = true; btn.innerText = "Durdur"; btn.classList.replace('bg-black', 'bg-red-500');
                interval = setInterval(() => { rewards += 0.0014; document.getElementById('rewardCounter').innerText = rewards.toFixed(4); }, 1000);
            } else {
                isMining = false; btn.innerText = "Madenciliği Başlat"; btn.classList.replace('bg-red-500', 'bg-black'); clearInterval(interval);
            }
        }

        function openModal() { document.getElementById('presaleModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('presaleModal').style.display = 'none'; }
    </script>
</body>
</html>
